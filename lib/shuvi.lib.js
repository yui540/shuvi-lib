var Shuvi,bind=function(t,i){return function(){return t.apply(i,arguments)}};Shuvi=function(){function t(t){this.onError=bind(this.onError,this),this.onReady=bind(this.onReady,this),this.version="1.0.0",this.author="yuki540",this.twitter="https://twitter.com/eriri_jp",this.github="https://github.com/yuki540net/shuvi-lib",this.art(),this.id=t.id,this.number=0,this.video_id=t.video_id,this.width=t.width,this.height=t.height,this.autoplay=t.autoplay||!0,this._loop=t.loop||!1,this.first=!1,this.load=!1,this.timer=null,this.listeners=[],this.player=null,this.init()}return t.prototype.art=function(){return console.log(""),console.log("shuvi-lib -> version "+this.version),console.log("  - author:     "+this.author),console.log("  - twitter:    "+this.twitter),console.log("  - repository: "+this.github),console.log("")},t.prototype.init=function(){var t;return t=document.createElement("script"),t.src="https://www.youtube.com/iframe_api",document.head.appendChild(t),window.onYouTubeIframeAPIReady=function(t){return function(){return t.render()}}(this)},t.prototype.emit=function(t,i){var e,r,o,n,h;for(n=this.listeners,h=[],e=0,r=n.length;e<r;e++)o=n[e],t===o.event?h.push(o.fn(i)):h.push(void 0);return h},t.prototype.on=function(t,i){return this.listeners.push({event:t,fn:i})},t.prototype.render=function(){return this.player=new YT.Player(this.id,{width:this.width,height:this.height,videoId:this.video_id[this.number],events:{onReady:this.onReady,onError:this.onError}})},t.prototype.onReady=function(t){return this.first?(this.load=!0,this.autoplay&&this.play(),this.emit("load",{video_id:this.video_id[this.number]})):(this.change(this.video_id[this.number]),void(this.first=!0))},t.prototype.onError=function(t){return this.load=!1,this.emit("error",{video_id:this.video_id[this.number]})},t.prototype.change=function(t){var i,e,r;if(this.pause(),this.load=!1,e="https://www.youtube.com/embed/",r="?enablejsapi=1&widgetid=1&controls=0&showinfo=0",i=document.getElementById(this.id),i.src=e+t+r,this.first)return this.emit("change",{video_id:t})},t.prototype.setPlaylist=function(t){return this.video_id=t,this.number=0,this.change(this.video_id[this.number]),!0},t.prototype.next=function(){return this.video_id.length-1<=this.number?this.number=0:this.number+=1,this.change(this.video_id[this.number]),!0},t.prototype.back=function(){return 0>=this.number?this.number=this.video_id.length-1:this.number-=1,this.change(this.video_id[this.number]),!0},t.prototype.select=function(t){return t=parseInt(t),this.video_id.length-1>=t&&0<=t&&(this.number=t,this.change(this.video_id[this.number]),!0)},t.prototype.play=function(){return!!this.load&&(this.player.playVideo(),this.emit("play",{video_id:this.video_id[this.number]}),this.timer=setInterval(function(t){return function(){var i,e;return e=t.duration(),i=t.current(),e<=i&&(t.emit("end",{video_id:t.video_id[t.number]}),t._loop?t.seek(0):(t.video_id.length-1<=t.number?t.number=0:t.number+=1,t.change(t.video_id[t.number]))),t.emit("seek",{video_id:t.video_id[t.number],current:i,duration:e,per:i/e})}}(this),100),!0)},t.prototype.pause=function(){return!!this.load&&(this.player.pauseVideo(),this.emit("pause",{video_id:this.video_id[this.number]}),clearInterval(this.timer),!0)},t.prototype.loop=function(t){return this._loop=!0===t},t.prototype.seek=function(t){var i,e;return!!this.load&&(e=this.duration(),i=e*t,this.player.seekTo(i),this.emit("seek",{video_id:this.video_id[this.number],current:i,duration:e,per:i/e}),!0)},t.prototype.duration=function(){return this.player.getDuration()},t.prototype.current=function(){return this.player.getCurrentTime()},t.prototype.buffer=function(){return this.player.getVideoLoadedFraction()},t.prototype.getVolume=function(){return this.player.getVolume()/100},t.prototype.setVolume=function(t){return!!this.load&&(this.player.setVolume(100*t),!0)},t.prototype.resize=function(t,i){return this.width=t,this.height=i,this.player.setSize(this.width,this.height),this.emit("resize",{width:this.width,height:this.height}),!0},t.prototype.getId=function(t){var i;return!!(i=t.match(/v=.*/))&&(i=i[0].split("&"),i[0].replace(/^v=/,""))},t}();try{module.exports=Shuvi}catch(t){}