var Shuvi,bind=function(t,i){return function(){return t.apply(i,arguments)}};Shuvi=function(){function t(t){this.onError=bind(this.onError,this),this.onReady=bind(this.onReady,this),this.version="1.0.5",this.art(),this.id=t.id,this.video_id=t.video_id,this.width=t.width,this.height=t.height,this.autoplay=t.autoplay,this._loop=t.loop,void 0===this.autoplay&&(this.autoplay=!0),void 0===this._loop&&(this._loop=!1),this.first=!1,this.load=!1,this.timer=null,this.listeners=[],this.player=null,window.onYouTubeIframeAPIReady=function(t){return function(){return t.render()}}(this),this.init()}return t.prototype.art=function(){return console.log(""),console.log("shuvi-lib -> version "+this.version),console.log(""),!0},t.prototype.init=function(){var t;return t=document.createElement("script"),t.src="https://www.youtube.com/iframe_api",document.head.appendChild(t),!0},t.prototype.emit=function(t,i){var e,o,r,n;for(n=this.listeners,e=0,o=n.length;e<o;e++)r=n[e],t===r.event&&r.fn(i);return!0},t.prototype.on=function(t,i){return this.listeners.push({event:t,fn:i}),!0},t.prototype.render=function(){return this.player=new YT.Player(this.id,{width:this.width,height:this.height,videoId:this.video_id,events:{onReady:this.onReady,onError:this.onError}}),!0},t.prototype.onReady=function(t){return this.first?(this.load=!0,this.autoplay&&this.play(),this.emit("load",{video_id:this.video_id})):(this.change(this.video_id),void(this.first=!0))},t.prototype.onError=function(t){return this.load=!1,this.emit("error",{video_id:this.video_id})},t.prototype.change=function(t){var i,e,o;if(this.pause(),this.video_id=t,this.load=!1,e="https://www.youtube.com/embed/",o="?enablejsapi=1&widgetid=1&controls=0&showinfo=0",i=document.getElementById(this.id),i.src=e+this.video_id+o,this.first)return this.emit("change",{video_id:this.video_id})},t.prototype.getVideoID=function(){return this.video_id},t.prototype.play=function(){return!!this.load&&(this.player.playVideo(),this.emit("play",{video_id:this.video_id}),this.timer=setInterval(function(t){return function(){var i,e;if(e=t.duration(),i=t.current(),t.emit("seek",{video_id:t.video_id[t.number],current:i,duration:e,per:i/e}),e<=i)return t.emit("end",{video_id:t.video_id}),t._loop?t.seek(0):t.pause()}}(this),100),!0)},t.prototype.pause=function(){return!!this.load&&(this.player.pauseVideo(),this.emit("pause",{video_id:this.video_id}),clearInterval(this.timer),!0)},t.prototype.loop=function(t){return this._loop=!0===t,!0},t.prototype.seek=function(t){var i,e;return!!this.load&&(e=this.duration(),i=e*t,this.player.seekTo(i),this.emit("seek",{video_id:this.video_id,current:i,duration:e,per:i/e}),!0)},t.prototype.duration=function(){return this.player.getDuration()},t.prototype.current=function(){return this.player.getCurrentTime()},t.prototype.buffer=function(){return this.player.getVideoLoadedFraction()},t.prototype.getVolume=function(){return this.player.getVolume()/100},t.prototype.setVolume=function(t){return!!this.load&&(this.player.setVolume(100*t),!0)},t.prototype.resize=function(t,i){return this.width=t,this.height=i,this.player.setSize(this.width,this.height),this.emit("resize",{width:this.width,height:this.height}),!0},t.prototype.getId=function(t){var i;return!!(i=t.match(/v=.*/))&&(i=i[0].split("&"),i[0].replace(/^v=/,""))},t}();try{module.exports=Shuvi}catch(t){}